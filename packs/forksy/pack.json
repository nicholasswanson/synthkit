{
  "id": "forksy",
  "name": "Forksy Marketplace",
  "version": "1.0.0",
  "description": "Food delivery marketplace with restaurants, drivers, and multi-party payments",
  "schemas": {
    "restaurant": {
      "type": "object",
      "description": "Restaurant partner in the marketplace",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "faker": "company.name"
        },
        "cuisine": {
          "type": "string",
          "enum": ["italian", "chinese", "mexican", "indian", "american", "thai", "japanese", "mediterranean"],
          "faker": "helpers.arrayElement"
        },
        "rating": {
          "type": "number",
          "minimum": 1,
          "maximum": 5,
          "faker": "number.float",
          "precision": 0.1
        },
        "deliveryFee": {
          "type": "number",
          "minimum": 0,
          "faker": "commerce.price"
        },
        "minimumOrder": {
          "type": "number",
          "minimum": 0,
          "faker": "commerce.price"
        },
        "averageDeliveryTime": {
          "type": "integer",
          "minimum": 15,
          "maximum": 60,
          "faker": "number.int"
        },
        "monthlyRevenue": {
          "type": "number",
          "minimum": 0,
          "faker": "commerce.price"
        },
        "commissionRate": {
          "type": "number",
          "minimum": 0.1,
          "maximum": 0.3,
          "faker": "number.float",
          "precision": 0.01
        },
        "isActive": {
          "type": "boolean",
          "default": true
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "faker": "date.past"
        }
      },
      "required": ["id", "name", "cuisine", "rating", "deliveryFee", "createdAt"]
    },
    "driver": {
      "type": "object",
      "description": "Delivery driver in the marketplace",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "firstName": {
          "type": "string",
          "faker": "person.firstName"
        },
        "lastName": {
          "type": "string",
          "faker": "person.lastName"
        },
        "email": {
          "type": "string",
          "format": "email",
          "faker": "internet.email"
        },
        "phone": {
          "type": "string",
          "faker": "phone.number"
        },
        "vehicleType": {
          "type": "string",
          "enum": ["bike", "scooter", "car", "walking"],
          "faker": "helpers.arrayElement"
        },
        "rating": {
          "type": "number",
          "minimum": 1,
          "maximum": 5,
          "faker": "number.float",
          "precision": 0.1
        },
        "totalDeliveries": {
          "type": "integer",
          "minimum": 0,
          "faker": "number.int",
          "max": 5000
        },
        "weeklyEarnings": {
          "type": "number",
          "minimum": 0,
          "faker": "commerce.price"
        },
        "averageDeliveryTime": {
          "type": "integer",
          "minimum": 10,
          "maximum": 45,
          "faker": "number.int"
        },
        "isOnline": {
          "type": "boolean",
          "default": true
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "faker": "date.past"
        }
      },
      "required": ["id", "firstName", "lastName", "email", "vehicleType", "createdAt"]
    },
    "order": {
      "type": "object",
      "description": "Food delivery order with multi-party payments",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "customerId": {
          "type": "string",
          "format": "uuid"
        },
        "restaurantId": {
          "type": "string",
          "format": "uuid"
        },
        "driverId": {
          "type": "string",
          "format": "uuid"
        },
        "orderNumber": {
          "type": "string",
          "faker": "string.alphanumeric",
          "length": 8
        },
        "items": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": { "type": "string", "faker": "commerce.productName" },
              "quantity": { "type": "integer", "minimum": 1 },
              "unitPrice": { "type": "number", "minimum": 0 },
              "total": { "type": "number", "minimum": 0 }
            }
          }
        },
        "subtotal": {
          "type": "number",
          "minimum": 0,
          "faker": "commerce.price"
        },
        "deliveryFee": {
          "type": "number",
          "minimum": 0
        },
        "serviceFee": {
          "type": "number",
          "minimum": 0
        },
        "tax": {
          "type": "number",
          "minimum": 0
        },
        "tip": {
          "type": "number",
          "minimum": 0
        },
        "total": {
          "type": "number",
          "minimum": 0
        },
        "restaurantPayout": {
          "type": "number",
          "minimum": 0
        },
        "driverPayout": {
          "type": "number",
          "minimum": 0
        },
        "platformFee": {
          "type": "number",
          "minimum": 0
        },
        "status": {
          "type": "string",
          "enum": ["placed", "confirmed", "preparing", "ready", "picked_up", "delivered", "cancelled"],
          "default": "delivered"
        },
        "paymentMethod": {
          "type": "string",
          "enum": ["credit_card", "debit_card", "digital_wallet", "cash"],
          "faker": "helpers.arrayElement"
        },
        "deliveryAddress": {
          "type": "object",
          "properties": {
            "street": { "type": "string", "faker": "location.streetAddress" },
            "city": { "type": "string", "faker": "location.city" },
            "zipCode": { "type": "string", "faker": "location.zipCode" }
          }
        },
        "estimatedDelivery": {
          "type": "string",
          "format": "date-time",
          "faker": "date.future"
        },
        "actualDelivery": {
          "type": "string",
          "format": "date-time",
          "faker": "date.recent"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "faker": "date.past"
        }
      },
      "required": ["id", "customerId", "restaurantId", "orderNumber", "items", "subtotal", "total", "status", "createdAt"]
    },
    "payout": {
      "type": "object",
      "description": "Marketplace payout to restaurant or driver",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "recipientId": {
          "type": "string",
          "format": "uuid"
        },
        "recipientType": {
          "type": "string",
          "enum": ["restaurant", "driver"],
          "faker": "helpers.arrayElement"
        },
        "amount": {
          "type": "number",
          "minimum": 0,
          "faker": "commerce.price"
        },
        "currency": {
          "type": "string",
          "enum": ["USD", "EUR", "GBP"],
          "default": "USD"
        },
        "status": {
          "type": "string",
          "enum": ["pending", "processing", "completed", "failed"],
          "default": "completed"
        },
        "payoutMethod": {
          "type": "string",
          "enum": ["bank_transfer", "instant_payout", "check"],
          "faker": "helpers.arrayElement"
        },
        "processingFee": {
          "type": "number",
          "minimum": 0
        },
        "netAmount": {
          "type": "number",
          "minimum": 0
        },
        "ordersIncluded": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "payoutDate": {
          "type": "string",
          "format": "date-time",
          "faker": "date.recent"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "faker": "date.past"
        }
      },
      "required": ["id", "recipientId", "recipientType", "amount", "status", "createdAt"]
    }
  },
  "categories": {
    "early": {
      "id": "early",
      "name": "Local Food Delivery Startup",
      "description": "Small food delivery service in single city",
      "businessType": "marketplace",
      "config": {
        "id": 77777,
        "dateRange": {
          "start": "2024-08-01",
          "end": "2024-12-31"
        },
        "volume": {
          "restaurants": 50,
          "drivers": 100,
          "orders": 2500,
          "payouts": 800
        },
        "relationships": {
          "averageOrderValue": 28,
          "commissionRate": 0.15,
          "driverUtilization": 0.6,
          "customerRetention": 0.4
        },
        "complexity": "early"
      }
    },
    "growth": {
      "id": "growth",
      "name": "Regional Marketplace",
      "description": "Multi-city food delivery platform",
      "businessType": "marketplace",
      "config": {
        "id": 88888,
        "dateRange": {
          "start": "2023-01-01",
          "end": "2024-12-31"
        },
        "volume": {
          "restaurants": 2500,
          "drivers": 8000,
          "orders": 150000,
          "payouts": 45000
        },
        "relationships": {
          "averageOrderValue": 35,
          "commissionRate": 0.18,
          "driverUtilization": 0.75,
          "customerRetention": 0.65
        },
        "complexity": "growth"
      }
    },
    "enterprise": {
      "id": "enterprise",
      "name": "Global Food Delivery Platform",
      "description": "International marketplace with complex logistics",
      "businessType": "marketplace",
      "config": {
        "id": 99999,
        "dateRange": {
          "start": "2022-01-01",
          "end": "2024-12-31"
        },
        "volume": {
          "restaurants": 100000,
          "drivers": 500000,
          "orders": 10000000,
          "payouts": 2500000
        },
        "relationships": {
          "averageOrderValue": 42,
          "commissionRate": 0.22,
          "driverUtilization": 0.85,
          "customerRetention": 0.8
        },
        "complexity": "enterprise"
      }
    }
  },
  "roles": {
    "admin": {
      "id": "admin",
      "name": "Administrator",
      "description": "Full access to all marketplace financial data",
      "accessLevel": "admin",
      "dataVisibility": {
        "fullAccess": true
      },
      "overrides": {
        "restaurant": {
          "commissionRate": 0.15,
          "isActive": true
        },
        "order": {
          "status": "delivered",
          "paymentMethod": "credit_card"
        }
      }
    },
    "support": {
      "id": "support",
      "name": "Support Agent",
      "description": "Customer support with financial data masked",
      "accessLevel": "support",
      "dataVisibility": {
        "fullAccess": false,
        "maskedFields": ["monthlyRevenue", "weeklyEarnings", "subtotal", "deliveryFee", "serviceFee", "tax", "tip", "total", "restaurantPayout", "driverPayout", "platformFee", "amount", "processingFee", "netAmount"],
        "hiddenFields": []
      },
      "overrides": {}
    }
  },
  "routes": {
    "/api/restaurants": {
      "schema": "restaurant",
      "rest": true,
      "methods": ["GET", "POST", "PUT", "DELETE"]
    },
    "/api/drivers": {
      "schema": "driver",
      "rest": true,
      "methods": ["GET", "POST", "PUT", "DELETE"]
    },
    "/api/orders": {
      "schema": "order",
      "rest": true,
      "methods": ["GET", "POST", "PUT", "DELETE"]
    },
    "/api/payouts": {
      "schema": "payout",
      "rest": true,
      "methods": ["GET", "POST"]
    }
  }
}
